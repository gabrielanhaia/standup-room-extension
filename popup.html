<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Standup</title>
    <style>
      :root {
        --bg: #0b0d12;
        --panel: #11151c;
        --panel-border: #1d2430;
        --text: #e9eef7;
        --muted: #9aa7bd;
        --focus: #66a3ff;
        --ok: #7bd88f;
        --warn: #ff6363;
        --pill-off-bg: #202736;
        --pill-on-bg: #103a1a;
        --pill-on-border: #2e7d32;
        --btn: #1b2330;
        --btn-border: #2a3445;
        --btn-hover: #222c3c;
        --danger: #3a1a1a;
        --danger-border: #563232;
        --danger-hover: #4a2323;
      }
      @media (prefers-color-scheme: light) {
        :root {
          --bg: #f7f9fc;
          --panel: #ffffff;
          --panel-border: #e6ebf2;
          --text: #0f172a;
          --muted: #4b5563;
          --focus: #2563eb;
          --ok: #2e7d32;
          --warn: #b23b3b;
          --pill-off-bg: #f1f5f9;
          --pill-on-bg: #e8ffe8;
          --pill-on-border: #9ad17f;
          --btn: #ffffff;
          --btn-border: #e6ebf2;
          --btn-hover: #f3f6fb;
          --danger: #fff5f5;
          --danger-border: #f3c7c7;
          --danger-hover: #ffe9e9;
        }
      }
      html, body { padding: 0; margin: 0; }
      body { font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif; width: 380px; background: var(--bg); color: var(--text); }
      .wrap { padding: 14px; }
      .panel { background: var(--panel); border: 1px solid var(--panel-border); border-radius: 12px; padding: 12px; }
      h1 { font-size: 16px; margin: 0 0 10px; letter-spacing: 0.2px; }
      .row { display: flex; gap: 8px; margin-bottom: 8px; }
      input { flex: 1; padding: 10px 12px; border: 1px solid var(--btn-border); background: transparent; color: var(--text); border-radius: 10px; outline: none; }
      input::placeholder { color: var(--muted); }
      input:focus { border-color: var(--focus); box-shadow: 0 0 0 3px color-mix(in oklab, var(--focus) 25%, transparent); }
      .btn { padding: 10px 12px; border: 1px solid var(--btn-border); background: var(--btn); color: var(--text); border-radius: 10px; cursor: pointer; }
      .btn:hover { background: var(--btn-hover); }
      .btn-primary { border-color: var(--focus); box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--focus) 35%, transparent); }
      .btn-danger { background: var(--danger); border-color: var(--danger-border); }
      .btn-danger:hover { background: var(--danger-hover); }
      #status { margin: 8px 0 10px; font-size: 12px; min-height: 16px; color: var(--muted); display: flex; align-items: center; gap: 6px; }
      #status.ok { color: var(--ok); }
      #status.warn { color: var(--warn); }
      .list { display: grid; gap: 8px; }
      .card { display: flex; justify-content: space-between; align-items: center; padding: 10px; border: 1px solid var(--panel-border); border-radius: 12px; background: color-mix(in oklab, var(--panel) 96%, black); }
      .left { display: flex; align-items: center; gap: 10px; min-width: 0; }
      .avatar { width: 28px; height: 28px; border-radius: 50%; display: grid; place-items: center; font-size: 12px; font-weight: 700; color: #fff; letter-spacing: .3px; flex: 0 0 auto; }
      .name { font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
      .you { margin-left: 6px; font-size: 10px; color: var(--muted); padding: 2px 6px; border: 1px solid var(--panel-border); border-radius: 999px; }
      .pill { padding: 6px 12px; border: 1px solid var(--btn-border); border-radius: 999px; font-size: 12px; user-select: none; background: var(--pill-off-bg); color: var(--text); transition: transform .06s ease; }
      .pill.mine { cursor: pointer; }
      .pill.mine:hover { transform: translateY(-1px); }
      .pill.on { background: var(--pill-on-bg); border-color: var(--pill-on-border); }
      .footer { display: flex; gap: 8px; margin-top: 12px; }
      .credits { display: flex; justify-content: space-between; align-items: center; margin-top: 10px; font-size: 11px; color: var(--muted); }
      .credits a { color: var(--focus); text-decoration: none; }
      .credits a:hover { text-decoration: underline; }
    </style>
    <script src="vendor/supabase.min.js"></script>
  </head>
  <body>
    <div class="wrap">
      <div class="panel">
        <h1>Standup</h1>

        <div class="row">
          <input id="name" placeholder="Your name"/>
          <button id="saveName" class="btn">Save</button>
        </div>

        <div class="row">
          <input id="room" placeholder="Room (auto-filled from this page)"/>
          <button id="join" class="btn btn-primary">Enter</button>
        </div>

        <div id="status"></div>

        <div class="list" id="people"></div>

        <div class="footer">
          <button id="resetMe" class="btn">Reset me</button>
          <button id="leave" class="btn btn-danger">Leave</button>
        </div>

        <div class="credits">
          <span>Created by Gabriel Anhaia</span>
          <span>
            <a href="mailto:ga.contact.me@gmail.com">Email</a>
            Â·
            <a href="https://github.com/gabrielanhaia" target="_blank" rel="noopener noreferrer">GitHub</a>
          </span>
        </div>
      </div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
